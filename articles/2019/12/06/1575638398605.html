<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>podman åˆä½“éªŒ - mufengs çš„ä¸ªäººåšå®¢</title><meta name="description" content="The best preparation for tomorrow is doing your best today."/><meta property="og:description" content="The best preparation for tomorrow is doing your best today."/>    <meta name="keywords" content="mfuengs,æ²é£,Solo,åšå®¢,å¼€æº"/><link rel="dns-prefetch" href="https://blog.mufengs.com"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://blog.mufengs.com"><link rel="icon" type="image/png" href="https://avatars0.githubusercontent.com/u/13534743?s=460&v=4"/><link rel="apple-touch-icon" href="https://avatars0.githubusercontent.com/u/13534743?s=460&v=4"><link rel="shortcut icon" type="image/x-icon" href="https://avatars0.githubusercontent.com/u/13534743?s=460&v=4"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="podman åˆä½“éªŒ - mufengs çš„ä¸ªäººåšå®¢"/><meta property="og:site_name" content="mufengs çš„ä¸ªäººåšå®¢"/><meta property="og:url"      content="https://blog.mufengs.com/articles/2019/12/06/1575638398605.html?"/><meta property="og:image" content="https://avatars0.githubusercontent.com/u/13534743?s=460&v=4"/><link rel="search" type="application/opensearchdescription+xml" title="podman åˆä½“éªŒ - mufengs çš„ä¸ªäººåšå®¢" href="/opensearch.xml"><link href="https://blog.mufengs.com/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://blog.mufengs.com/manifest.json">        <link rel="canonical" href="https://blog.mufengs.com/articles/2019/12/06/1575638398605.html">        <link rel="stylesheet"
              href="https://blog.mufengs.com/skins/9IPHP/css/base.css?1582365382210"/>
            <link rel="prev" title="shell åŸºç¡€å¼ºåŒ–ç¬”è®° ( äºŒï¼‰" href="https://blog.mufengs.com/articles/2019/12/02/1575301055418.html">
            <link rel="next" title="2019 å¹´åº¦ mufengs çš„ä¸ªäººæ€»ç»“" href="https://blog.mufengs.com/articles/2019/12/31/1577812726750.html">
    <meta name="chinaz-site-verification" content="F660A6FCE0996EE8">
<meta name="msvalidate.01" content="17F5C77D3C4574E00E1184C8C88CDF3D" />

<meta name="baidu-site-verification" content="O2dbWwPD4c" />
<meta http-equiv="Content-Language" contect="zh-CN">
<script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-2020382208193428",
    enable_page_level_ads: true
  });
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-129717363-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129717363-1');
</script>
<meta name="baidu-site-verification" content="EVS4zXFLDE" /></head>
<body>
<header>
    <div class="banner">
        <div class="fn-clear wrapper">
            <h1 class="fn-inline">
                <a href="https://blog.mufengs.com" rel="start">
                    mufengs çš„ä¸ªäººåšå®¢
                </a>
            </h1>
            <small> &nbsp; æ²¡æœ‰å¼•å‘ä»»ä½•è¡ŒåŠ¨çš„æ€æƒ³éƒ½ä¸æ˜¯æ€æƒ³ï¼Œè€Œæ˜¯æ¢¦æƒ³ã€‚ â€”â€” é©¬ä¸</small>
        </div>
    </div>

    <div class="navbar">
        <div class="fn-clear wrapper">
            <nav class="fn-left">
                <a href="https://blog.mufengs.com">
                    <i class="icon-home"></i>
                    é¦–é¡µ
                </a>
                    <a href="https://my.oschina.net/mfeng" target="_blank" rel="section">
                        <img class="page-icon" src="https://static.oschina.net/new-osc/img/logo.svg">oschina
                    </a>
                    <a href="https://blog.51cto.com/10556365" target="_blank" rel="section">
                        <img class="page-icon" src="https://google.mufengs.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png">51CTOåšå®¢
                    </a>
                    <a href="https://www.opschina.top/" target="_self" rel="section">
                        <img class="page-icon" src="https://avatars0.githubusercontent.com/u/13534743?s=460&v=4">è¿ç»´ä¸­å›½
                    </a>
                    <a href="https://www.cnblogs.com/sunofwe/" target="_self" rel="section">
                        <img class="page-icon" src="https://www.cnblogs.com/Skins/custom/images/logo.gif">åšå®¢å›­
                    </a>
                    <a href="/my-github-repos" target="_self" rel="section">
                        <img class="page-icon" src="/images/github-icon.png">æˆ‘çš„å¼€æº
                    </a>
                <a href="https://blog.mufengs.com/tags.html" rel="section">
                    <i class="icon-tags"></i> æ ‡ç­¾å¢™
                </a>
                <a href="https://blog.mufengs.com/archives.html">
                    <i class="icon-inbox"></i> å­˜æ¡£
                </a>
                <a rel="archive" href="https://blog.mufengs.com/links.html">
                    <i class="icon-link"></i> å‹æƒ…é“¾æ¥
                </a>
                <a rel="alternate" href="https://blog.mufengs.com/rss.xml" rel="section">
                    <i class="icon-rss"></i> RSS
                </a>
            </nav>
        </div>
    </div>
</header>
<div class="responsive fn-none">
    <i class="icon-list"></i>
    <ul class="list">
        <li>
            <a href="https://blog.mufengs.com">
                <i class="icon-home"></i>
                é¦–é¡µ
            </a>
        </li>
            <li>
                <a href="https://my.oschina.net/mfeng" target="_blank" rel="section">
                    <img class="page-icon" src="https://static.oschina.net/new-osc/img/logo.svg">oschina
                </a>
            </li>
            <li>
                <a href="https://blog.51cto.com/10556365" target="_blank" rel="section">
                    <img class="page-icon" src="https://google.mufengs.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png">51CTOåšå®¢
                </a>
            </li>
            <li>
                <a href="https://www.opschina.top/" target="_self" rel="section">
                    <img class="page-icon" src="https://avatars0.githubusercontent.com/u/13534743?s=460&v=4">è¿ç»´ä¸­å›½
                </a>
            </li>
            <li>
                <a href="https://www.cnblogs.com/sunofwe/" target="_self" rel="section">
                    <img class="page-icon" src="https://www.cnblogs.com/Skins/custom/images/logo.gif">åšå®¢å›­
                </a>
            </li>
            <li>
                <a href="/my-github-repos" target="_self" rel="section">
                    <img class="page-icon" src="/images/github-icon.png">æˆ‘çš„å¼€æº
                </a>
            </li>
        <li>
            <a href="https://blog.mufengs.com/tags.html" rel="section">
                <i class="icon-tags"></i> æ ‡ç­¾å¢™
            </a>
        </li>
        <li>
            <a href="https://blog.mufengs.com/archives.html">
                <i class="icon-inbox"></i> å­˜æ¡£
            </a>
        </li>
        <li>
            <a rel="archive" href="https://blog.mufengs.com/links.html">
                <i class="icon-link"></i> å‹æƒ…é“¾æ¥
            </a>
        </li>
        <li>
            <a rel="alternate" href="https://blog.mufengs.com/rss.xml" rel="section">
                <i class="icon-rss"></i> RSS
            </a>
        </li>
    </ul>
</div>
<div class="wrapper">
    <div class="main-wrap">
        <main>
            <article class="post">
                <header>
                    <h2>
                        <a rel="bookmark" href="https://blog.mufengs.com/articles/2019/12/06/1575638398605.html">
                            podman åˆä½“éªŒ
                        </a>
                    </h2>
                    <div class="meta">
                                <span class="vditor-tooltipped vditor-tooltipped__n"
                                      aria-label="åˆ›å»ºæ—¥æœŸ">
                                    <i class="icon-date"></i>
                                    <time>
                                    2019-12-06
                                    </time>
                                </span>
                        &nbsp; | &nbsp;
                        <span class="vditor-tooltipped vditor-tooltipped__n" aria-label="è¯„è®ºæ•°">
                                    <i class="icon-comments"></i>
                                    <a href="https://blog.mufengs.com/articles/2019/12/06/1575638398605.html#b3logsolocomments">
                                        <span data-uvstatcmt="1575638398605">0</span> è¯„è®º</a>
                                </span>
                        &nbsp; | &nbsp;
                        <span class="vditor-tooltipped vditor-tooltipped__n" aria-label="æµè§ˆæ•°">
                                    <i class="icon-views"></i>
                        <span data-uvstaturl="https://blog.mufengs.com/articles/2019/12/06/1575638398605.html">442</span> æµè§ˆ
                                </span>
                    </div>
                </header>

                <div class="vditor-reset post__content">
                    <h2 id="toc_h2_0">1. æ¦‚è¿°</h2>
<p>podmanå®˜ç½‘</p>
<p><a href="https://podman.io/getting-started/" target="_blank">https://podman.io/getting-started/</a></p>
<p>å†™è¿™ä¸ªåšå®¢çš„åŸå› æ˜¯åœ¨åœ°é“ä¸Šï¼Œçœ‹åˆ°ä¸€ç¯‡åšå®¢ã€ŠDocker å¤§åŠ¿å·²å»ï¼ŒPodman ä¸‡å²ã€‹ï¼Œå°±å»äº†è§£äº†ä¸‹podmanï¼ŒRedhatçš„äº²å„¿å­ã€‚æ¯•ç«Ÿæ‹¥æŠ±å¼€æºï¼Œæ‹¥æŠ±k8sï¼Œpodçš„æ¦‚å¿µä¹Ÿæœ‰ã€‚</p>
<p>å¾ˆå¤šäººå¯èƒ½é‡åˆ°è¿‡å¼€æœºé‡å¯æ—¶ï¼Œç”±äºDockerå®ˆæŠ¤ç¨‹åºåœ¨å ç”¨å¤šæ ¸CPUä½¿ç”¨100%Cä½¿ç”¨çš„æƒ…å†µï¼Œå¯¼è‡´æ‰€æœ‰å®¹å™¨éƒ½æ— æ³•å¯åŠ¨ï¼ŒæœåŠ¡éƒ½ä¸èƒ½ç”¨çš„æƒ…å†µã€‚è¿‡åˆ©ç”¨Dockeré‡æ„WPåšå®¢çš„æ–°æ¶æ„ã€‚ç”±äºVPSæœºå™¨ä¸æ˜¯å¾ˆç¨³å®šï¼Œæ—¶å¸¸ä¼šé‡å¯ï¼Œé‡å¯æ—¶å€™å°±ä¼šé‡åˆ°è¿™ä¸ªäº‹æƒ…ï¼ŒVPSè´Ÿè½½å¾ˆé«˜ï¼Œå®¹å™¨éƒ½æ²¡æœ‰èµ·æ¥ï¼Œç½‘ç«™å°±æ— æ³•è®¿é—®äº†ã€‚è¿™æ—¶å€™åªèƒ½æ€æ‰æ‰€æœ‰å®¹å™¨å¹¶é‡å¯å®ˆæŠ¤è¿›ç¨‹ï¼Œæ‰èƒ½æ¢å¤ã€‚ç»è¿‡äº†è§£è¯¥é—®é¢˜æ˜¯ç”±äºDockerå®ˆæŠ¤è¿›ç¨‹å¼•èµ·ï¼Œè€Œä¸”Dockerå®ˆæŠ¤è¿›ç¨‹æ˜¯ä»¥rootç‰¹æƒæƒé™å¯åŠ¨çš„ï¼Œæ˜¯ä¸€ä¸ªå®‰å…¨é—®é¢˜ï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆæ–¹æ³•è§£å†³å‘¢ï¼Ÿ</p>
<p>ä¸ºä»€ä¹ˆDockeréœ€è¦ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹å‘¢ï¼Ÿ</p>
<blockquote>
<p>Podmanï¼ŒSkopeoå’ŒBuildah</p>
</blockquote>
<p>è¿™ä¸‰ä¸ªå·¥å…·éƒ½æ˜¯ç¬¦åˆOCIè®¡åˆ’ä¸‹çš„å·¥å…·ï¼ˆgithub/containersï¼‰ã€‚ä¸»è¦æ˜¯ç”±RedHatæ¨åŠ¨çš„ï¼Œä»–ä»¬é…åˆå¯ä»¥å®ŒæˆDockeræ‰€æœ‰çš„åŠŸèƒ½ï¼Œè€Œä¸”ä¸éœ€è¦å®ˆæŠ¤ç¨‹åºæˆ–è®¿é—®æœ‰rootæƒé™çš„ç»„ï¼Œæ›´åŠ å®‰å…¨å¯é ï¼Œæ˜¯ä¸‹ä¸€ä»£å®¹å™¨å®¹å™¨å·¥å…·</p>
<h2 id="toc_h2_1">2. å‡†å¤‡ç¯å¢ƒ</h2>
<p>è¿™è¾¹æˆ‘è´­ä¹°äº†ä¸€å°é˜¿é‡Œäº‘2æ ¸8Gçš„ECSï¼ŒæŠ¢å å¼ä»˜è´¹æ¨¡å¼ã€‚æŠ¢å å¼ä»˜è´¹æ¨¡å¼ï¼Œæ¯”æŒ‰æ—¶ä»˜è´¹ä¾¿å®œï¼Œè¿™è¾¹è®¾ç½®ä¸‹æœ€é«˜ç«ä»·0.5å…ƒæ¯å°æ—¶ï¼Œå¯ä»¥ä¿éšœæœºå™¨çš„æ‰€æœ‰æƒã€‚é€‰æ‹©aliyun linuxï¼Œä¹Ÿå°±æ˜¯oçš„ä¸€ä¸ªç³»ç»Ÿï¼Œç³»ç»Ÿæœ¬èº«åšäº†ä¸€äº›ä¼˜åŒ–ä¹‹ç±»çš„ã€‚<br>
<img src="https://img.hacpai.com/file/2019/12/image-f703ba09.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="image.png"></p>
<p>ä¸‹é¢è¿™å¼ å›¾å°±æ¯”è¾ƒæœ‰æ„æ€äº†ï¼Œç°åœ¨å¾ˆå°‘å¯ä»¥ä¹°åˆ°ç»å…¸ç½‘ç»œçš„ECSäº†ï¼Œé™¤éä¹‹å‰æœ‰ç»å…¸ç½‘ç»œçš„ECSï¼Œå¦åˆ™é»˜è®¤éƒ½æ˜¯ä¸“æœ‰ç½‘ç»œã€‚é˜¿é‡Œäº‘å¤§æ¦‚ä»2016å¹´å¼€å§‹ï¼Œå°±æ˜¯æŒ‰åŒºåŸŸåšç½‘ç»œè¿ç§»äº†ï¼Œå¢å¼ºäº†ç½‘ç»œéš”ç¦»æ€§ã€‚è¿˜æåˆ°è®¾å¤‡æ›´æ¢ï¼Œæ€§èƒ½æ›´å¥½ï¼Œè¿™å°±ä¸çŸ¥é“äº†ã€‚æ°å·§å‰å‡ å¤©ï¼Œç¢°ä¸Šäº†ç½‘ç»œæ¨¡å¼è¿ç§»è¿™ä»¶äº‹ã€‚æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ä¸‹çš„å°±æ˜¯</p>
<p>1.RDSç½‘ç»œæ¨¡å¼æ”¹æˆä¸“æœ‰ç½‘ç»œï¼Œé¦–å…ˆéœ€è¦æ‰“å¼€ç™½åå•é«˜å®‰å…¨æ¨¡å¼ï¼ˆç»å…¸ç½‘ç»œå’ŒVPCéš”ç¦»ï¼‰ï¼Œå¦‚æœä¹‹å‰æœ‰åº”ç”¨é“¾æ¥çš„æ—¶å€™ï¼Œæœ€å¥½è¿ç§»çš„æ—¶å€™ä¸ä¿ç•™ç»å…¸ç½‘ç»œï¼Œè¿™æ ·é“¾æ¥åœ°å€ä¸ä¼šå˜ï¼Œä¸ç„¶éœ€è¦ä¿®æ”¹RDSé“¾æ¥åœ°å€ã€‚ä¿ç•™çš„ä¼šå°±éœ€è¦æ‰“å¼€æ··æ·†æ¨¡å¼ï¼Œç»å…¸ç½‘ç»œå’ŒVPCæ‰“é€šè®¿é—®ï¼Œå½“ç„¶è¿™ä¸ªå› åº”ç”¨è€Œå¼‚ï¼Œä¹Ÿè®¸æœ‰æ›´æ— æ„Ÿçš„è¿ç§»æ–¹å¼ã€‚</p>
<p>2.ECSè¿ç§»ï¼Œå¯ä»¥ä¿ç•™åŸå†…ç½‘åœ°å€ï¼Œä½†æ˜¯éœ€è¦ä½ å»ºçš„VPCç½‘ç»œï¼ŒåŒ…å«ä¹‹å‰å†…ç½‘çš„ç½‘æ®µï¼Œå¾…è¿ç§»å®Œæˆä¹‹åï¼Œè‡ªè¡Œæ‰‹åŠ¨ä¿®æ”¹</p>
<p><img src="https://img.hacpai.com/file/2019/12/image-b64edfd6.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="image.png"></p>
<p>ç­‰åˆ°æ‰€æœ‰çš„æ“ä½œéƒ½ç‚¹å®Œä¹‹åï¼Œæˆ‘ä»¬æœåŠ¡å™¨ç¯å¢ƒå°±å‡†å¤‡å¥½å•¦</p>
<p><img src="https://img.hacpai.com/file/2019/12/image-cf4da50d.png?imageView2/2/w/1280/format/jpg/interlace/1/q/100" alt="image.png"></p>
<h3 id="toc_h3_2">3. å®‰è£…podman</h3>
<h3 id="toc_h3_3">3.1 æ›´æ–°æ“ä½œç³»ç»Ÿ</h3>
<pre><code class="language-bash">yum update -y
</code></pre>
<p>ä½“éªŒäº†ä¸€æŠŠé€Ÿåº¦è¿˜æ˜¯å¾ˆå¿«çš„ï¼Œä¸€ä¼šä¼šå°±æ›´æ–°å®Œæ¯•äº†</p>
<h3 id="toc_h3_4">3.2å®‰è£…<code>podman</code></h3>
<pre><code class="language-bash">sudo yum -y install podman
</code></pre>
<pre><code class="language-bash">å·²å®‰è£…:
  podman.x86_64 0:1.4.4-2.1.al7
ä½œä¸ºä¾èµ–è¢«å®‰è£…:
  PyYAML.x86_64 0:3.10-11.1.al7                         atomic-registries.x86_64 1:1.22.1-26.gitb507039.1.al7             audit-libs-python.x86_64 0:2.8.5-4.1.al7
  checkpolicy.x86_64 0:2.5-8.1.al7                      container-selinux.noarch 2:2.107-1.1.al7                          containernetworking-plugins.x86_64 0:0.8.1-1.1.al7
  containers-common.x86_64 1:0.1.37-1.1.al7             criu.x86_64 0:3.12-2.1.al7                                        libcgroup.x86_64 0:0.41-21.1.al7
  libnet.x86_64 0:1.1.6-7.1.al7                         libsemanage-python.x86_64 0:2.5-14.1.al7                          libyaml.x86_64 0:0.1.4-11.1.al7
  policycoreutils-python.x86_64 0:2.5-33.1.al7          protobuf-c.x86_64 0:1.0.2-3.4.al7                                 python-IPy.noarch 0:0.75-6.1.al7
  python-backports.x86_64 0:1.0-8.1.al7                 python-backports-ssl_match_hostname.noarch 0:3.5.0.1-1.1.al7      python-ipaddress.noarch 0:1.0.16-2.4.al7
  python-pytoml.noarch 0:0.1.14-1.git7dea353.1.al7      python-setuptools.noarch 0:0.9.8-7.1.al7                          runc.x86_64 0:1.0.0-64.rc8.1.al7
  setools-libs.x86_64 0:3.3.8-4.1.al7

å®Œæ¯•ï¼
</code></pre>
<h2 id="toc_h2_5">4. æ¢ç´¢podmanå‘½ä»¤</h2>
<h3 id="toc_h3_6">4.1 podman -h</h3>
<p>å¯ä»¥å¤§æ¦‚çœ‹å‡ºäº†ï¼Œå’Œdockerçš„å‘½ä»¤å‡ ä¹æ˜¯ä¸€è‡´çš„</p>
<pre><code class="language-shell">manage pods and images

Usage:
  podman [flags]
  podman [command]

Available Commands:
  attach      Attach to a running container
  build       Build an image using instructions from Dockerfiles
  commit      Create new image based on the changed container
  container   Manage Containers
  cp          Copy files/folders between a container and the local filesystem
  create      Create but do not start a container
  diff        Inspect changes on container's file systems
  events      Show podman events
  exec        Run a process in a running container
  export      Export container's filesystem contents as a tar archive
  generate    Generated structured data
  healthcheck Manage Healthcheck
  help        Help about any command
  history     Show history of a specified image
  image       Manage images
  images      List images in local storage
  import      Import a tarball to create a filesystem image
  info        Display podman system information
  init        Initialize one or more containers
  inspect     Display the configuration of a container or image
  kill        Kill one or more running containers with a specific signal
  load        Load an image from container archive
  login       Login to a container registry
  logout      Logout of a container registry
  logs        Fetch the logs of a container
  mount       Mount a working container's root filesystem
  pause       Pause all the processes in one or more containers
  play        Play a pod
  pod         Manage pods
  port        List port mappings or a specific mapping for the container
  ps          List containers
  pull        Pull an image from a registry
  push        Push an image to a specified destination
  restart     Restart one or more containers
  rm          Remove one or more containers
  rmi         Removes one or more images from local storage
  run         Run a command in a new container
  save        Save image to an archive
  search      Search registry for image
  start       Start one or more containers
  stats       Display a live stream of container resource usage statistics
  stop        Stop one or more containers
  system      Manage podman
  tag         Add an additional name to a local image
  top         Display the running processes of a container
  umount      Unmounts working container's root filesystem
  unpause     Unpause the processes in one or more containers
  unshare     Run a command in a modified user namespace
  version     Display the Podman Version Information
  volume      Manage volumes
  wait        Block on one or more containers

Flags:
      --cgroup-manager string        Cgroup manager to use (cgroupfs or systemd) (default "systemd")
      --cni-config-dir string        Path of the configuration directory for CNI networks
      --config string                Path of a libpod config file detailing container server configuration options
      --conmon string                Path of the conmon binary
      --cpu-profile string           Path for the cpu profiling results
      --default-mounts-file string   Path to default mounts file
      --help                         Help for podman
      --hooks-dir strings            Set the OCI hooks directory path (may be set multiple times)
      --log-level string             Log messages above specified level: debug, info, warn, error, fatal or panic (default "error")
      --namespace string             Set the libpod namespace, used to create separate views of the containers and pods on the system
      --network-cmd-path string      Path to the command for configuring the network
      --root string                  Path to the root directory in which data, including images, is stored
      --runroot string               Path to the 'run directory' where all state information is stored
      --runtime string               Path to the OCI-compatible binary used to run containers, default is /usr/bin/runc
      --storage-driver string        Select which storage driver is used to manage storage of images and containers (default is overlay)
      --storage-opt stringArray      Used to pass an option to the storage driver
      --syslog                       Output logging information to syslog as well as the console
      --tmpdir string                Path to the tmp directory
      --trace                        Enable opentracing output
      --version                      Version for podman

Use "podman [command] --help" for more information about a command.
</code></pre>
<h3 id="toc_h3_7">4.2 å¸¸ç”¨å‘½ä»¤</h3>
<h4 id="toc_h4_8">4.2.1 æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</h4>
<pre><code class="language-shell">[root@podman ~]# podman ps
CONTAINER ID  IMAGE  COMMAND  CREATED  STATUS  PORTS  NAMES
</code></pre>
<h4 id="toc_h4_9">4.2.2 æŸ¥çœ‹podmanä¿¡æ¯</h4>
<pre><code class="language-shell">[root@podman ~]# podman info
host:
  BuildahVersion: 1.9.0
  Conmon:
    package: podman-1.4.4-2.1.al7.x86_64
    path: /usr/libexec/podman/conmon
    version: 'conmon version 0.3.0, commit: unknown'
    ........
</code></pre>
<h4 id="toc_h4_10">4.2.3 è¿è¡Œä¸€ä¸ªç®€å•çš„å®¹å™¨</h4>
<pre><code class="language-shell">podman run -dt -p 8080:8080/tcp -e HTTPD_VAR_RUN=/var/run/httpd -e HTTPD_MAIN_CONF_D_PATH=/etc/httpd/conf.d                   -e HTTPD_MAIN_CONF_PATH=/etc/httpd/conf                   -e HTTPD_CONTAINER_SCRIPTS_PATH=/usr/share/container-scripts/httpd/      httpd
</code></pre>
<p>è¿™è¾¹æˆ‘ä»¬å‘ç°ç½‘é€Ÿæœ‰ç‚¹æ…¢å•Šï¼Œæ‰¾ä¸ªå›½å†…æºè¯•ä¸‹</p>
<pre><code class="language-shell">mv /etc/containers/registries.conf  /etc/containers/registries.conf.bak
touch /etc/containers/registries.conf
cat &gt; /etc/containers/registries.conf &lt;&lt;EOF
unqualified-search-registries = ["docker.io"]
[[registry]]
prefix = "docker.io"
location = "******.mirror.aliyuncs.com"
EOF
</code></pre>
<p>å†æ¬¡è¿è¡Œå¯åŠ¨å®¹å™¨å‘½ä»¤,å°±å¾ˆå¿«äº†</p>
<pre><code class="language-shell">[root@podman containers]# podman run -dt -p 8080:8080/tcp -e HTTPD_VAR_RUN=/var/run/httpd -e HTTPD_MAIN_CONF_D_PATH=/etc/httpd/conf.d                   -e HTTPD_MAIN_CONF_PATH=/etc/httpd/conf                   -e HTTPD_CONTAINER_SCRIPTS_PATH=/usr/share/container-scripts/httpd/      httpd
Trying to pull docker.io/library/httpd...
Getting image source signatures
Copying blob 000eee12ec04 done
Copying blob 32b8712d1f38 done
Copying blob 51c60bde4d46 done
Copying blob f1ca037d6393 done
Copying blob c4bd3401259f done
Copying config 2ae34abc2e done
Writing manifest to image destination
Storing signatures
</code></pre>
<h4 id="toc_h4_11">4.2.4 æŸ¥çœ‹é•œåƒå’Œå®¹å™¨</h4>
<pre><code class="language-shell">[root@podman containers]# podman ps
CONTAINER ID  IMAGE                           COMMAND           CREATED         STATUS             PORTS                   NAMES
845ff52751b4  docker.io/library/httpd:latest  httpd-foreground  24 seconds ago  Up 23 seconds ago  0.0.0.0:8080-&gt;8080/tcp  eager_ganguly
[root@podman containers]# podman images
REPOSITORY                TAG      IMAGE ID       CREATED      SIZE
docker.io/library/httpd   latest   2ae34abc2ed0   7 days ago   170 MB
</code></pre>
<p>æˆ‘ä»¬è®¿é—®ä¸‹é¡µé¢è¯•ä¸‹</p>
<pre><code class="language-shell">[root@podman containers]# curl -iL 127.0.0.1:8080
curl: (7) Failed connect to 127.0.0.1:8080; æ‹’ç»è¿æ¥
[root@podman containers]# netstat -ntpl
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:5355            0.0.0.0:*               LISTEN      6432/systemd-resolv
tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN      31319/conmon
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      6361/sshd
</code></pre>
<p>What?è®¿é—®è¢«æ‹’ç»ï¼Œé‚£å°±æŸ¥çœ‹å®¹å™¨æ—¥å¿—å§</p>
<pre><code class="language-shell">[root@podman containers]# podman logs -f 845ff52751b4
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 10.88.0.3. Set the 'ServerName' directive globally to suppress this message
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using 10.88.0.3. Set the 'ServerName' directive globally to suppress this message
[Fri Dec 06 12:36:57.794386 2019] [mpm_event:notice] [pid 1:tid 140331807290496] AH00489: Apache/2.4.41 (Unix) configured -- resuming normal operations
[Fri Dec 06 12:36:57.794512 2019] [core:notice] [pid 1:tid 140331807290496] AH00094: Command line: 'httpd -D FOREGROUND'
</code></pre>
<p>è¿›å…¥å®¹å™¨æŸ¥çœ‹,å¯èƒ½æ˜¯æ–‡ä»¶çš„é—®é¢˜ğŸ˜…</p>
<pre><code class="language-shell">[root@podman containers]# podman exec -it 845ff52751b4  /bin/bash
root@845ff52751b4:/usr/local/apache2# ll
</code></pre>
<p>é‚£å°±ç®€å•æš´åŠ›ç‚¹å§</p>
<pre><code class="language-shell">podman run -d -p 80:80 httpd
[root@podman containers]# curl 127.0.0.1
&lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;
[root@podman containers]#
</code></pre>
<p>è¿™è¾¹å¯ä»¥çœ‹åˆ°å®¹å™¨å¯åŠ¨å¹¶è®¿é—®æˆåŠŸäº†</p>
<pre><code class="language-shell">[root@podman containers]# podman inspect 84 | grep IPAddress\":
            "IPAddress": "10.88.0.3",
[root@podman containers]# podman inspect -l | grep IPAddress\":
            "IPAddress": "10.88.0.4",
[root@podman containers]# podman ps
CONTAINER ID  IMAGE                           COMMAND           CREATED         STATUS             PORTS                   NAMES
82d6075767be  docker.io/library/httpd:latest  httpd-foreground  4 minutes ago   Up 4 minutes ago   0.0.0.0:80-&gt;80/tcp      nostalgic_hypatia
845ff52751b4  docker.io/library/httpd:latest  httpd-foreground  20 minutes ago  Up 20 minutes ago  0.0.0.0:8080-&gt;8080/tcp  eager_ganguly
</code></pre>
<h4 id="toc_h4_12">4.2.5 å¤‡ä»½è¿ç§»</h4>
<p>podmanä¼šå…ˆæŠŠå®¹å™¨æ‰“åŒ…æˆä¸€ä¸ªgzåŒ…ï¼Œç„¶åå¯ä»¥åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šå¯¼å…¥ã€‚ä¸çŸ¥é“æ˜¯é•œåƒå°è¿˜æ˜¯ä»€ä¹ˆåŸå› ï¼Œé€Ÿåº¦å¾ˆå¿«ã€‚æ„Ÿè§‰æ¯”dockerå¯¼å…¥å¯¼å‡ºå¿«å¤šå•¦ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯é”™è§‰ã€‚</p>
<pre><code class="language-shell">[root@podman containers]# podman container checkpoint 82d6075767be -e /tmp/checkpoint.tar.gz
82d6075767beff34a168ca48e47c5155bcd714eac1a53054049fbb841535832e
[root@podman containers]# ll /tmp/
æ€»ç”¨é‡ 1040
srwxr-xr-x 1 root root       0 12æœˆ  6 19:51 Aegis-&lt;Guid(5A2C30A2-A87D-490A-9281-6765EDAD7CBA)&gt;
-rw------- 1 root root 1058827 12æœˆ  6 21:01 checkpoint.tar.gz
drwx------ 3 root root    4096 12æœˆ  6 20:10 systemd-private-1254221ee241484f88bf1a3a3b2fa29b-chronyd.service-i0zmSw
[root@podman containers]# podman rm -f 82d6075767be
82d6075767beff34a168ca48e47c5155bcd714eac1a53054049fbb841535832e
[root@podman containers]# podman ps
CONTAINER ID  IMAGE                           COMMAND           CREATED         STATUS             PORTS                   NAMES
845ff52751b4  docker.io/library/httpd:latest  httpd-foreground  25 minutes ago  Up 25 minutes ago  0.0.0.0:8080-&gt;8080/tcp  eager_ganguly
[root@podman containers]# podman container restore -i /tmp/checkpoint.tar.gz
82d6075767beff34a168ca48e47c5155bcd714eac1a53054049fbb841535832e
[root@podman containers]# curl 127.0.0.1
&lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;
[root@podman containers]#
</code></pre>
                        <div>
                            ---------------------------------------------------------------</br>
>>  åšå®¢åœ°å€ï¼š<a href="https://blog.mufengs.com" target="_blank">https://blog.mufengs.com</a></br>
>>  é‚®ç®±åœ°å€ï¼š<a href=mailto:mufeng5619@gmail.com target="_blank">mufeng5619@gmail.com</a></br>
>>  å¾®ä¿¡å¸å·ï¼šDo8080</br>
>>    Github       :  <a href="https://github.com/mufengcoding" target="_blank">https://github.com/mufengcoding</a></br>
---------------------------------------------------------------</br>
                        </div>
                </div>

                <footer class="tags">
                        <a class="tag" rel="tag" href="https://blog.mufengs.com/tags/Linux">
                            Linux</a>
                        <a class="tag" rel="tag" href="https://blog.mufengs.com/tags/Podman">
                            Podman</a>
                        <a class="tag" rel="tag" href="https://blog.mufengs.com/tags/Docker">
                            Docker</a>

                    <div class="rel fn-clear ft__center">
                            <a href="https://blog.mufengs.com/articles/2019/12/02/1575301055418.html" rel="prev"
                               class="fn-left vditor-tooltipped vditor-tooltipped__n"
                               aria-label="shell åŸºç¡€å¼ºåŒ–ç¬”è®° ( äºŒï¼‰">
                                æ—§ä¸€ç¯‡
                            </a>
<div class="article__share"
     data-title="podman åˆä½“éªŒ"
     data-blogtitle="mufengs çš„ä¸ªäººåšå®¢"
     data-url="https://blog.mufengs.com/articles/2019/12/06/1575638398605.html"
     data-avatar="https://img.hacpai.com/avatar/1522743072387_1529850525222.?imageView2/1/w/128/h/128/format/jpg/interlace/0/q/100">
    <span class="item" data-type="qqz">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M22.824 13.989l-8.348 6.287s3.351 0.522 8.404 0.461l-0.23-1.040 7.2-6.549c0.132-0.12 0.183-0.312 0.129-0.487s-0.203-0.299-0.377-0.314l-9.492-0.856-3.708-9.213c-0.068-0.169-0.226-0.279-0.401-0.279s-0.333 0.11-0.401 0.279l-3.708 9.213-9.492 0.856c-0.174 0.015-0.323 0.139-0.377 0.314s-0.004 0.366 0.129 0.487l7.2 6.549-2.158 9.742c-0.040 0.178 0.026 0.365 0.168 0.474 0.142 0.107 0.331 0.115 0.481 0.021l8.158-5.165 8.158 5.165c0.070 0.045 0.147 0.066 0.225 0.066 0.090 0 0.18-0.029 0.256-0.086 0.142-0.109 0.208-0.295 0.168-0.474l-1.707-7.704c0.732-0.386 1.538-1.040 1.538-1.040s-3.195 1.638-14.664 0.838l8.312-6.325s-0.327-0.534-10.744-0.914c-0.697-0.026 8.493-1.83 15.281-0.305z"></path>
        </svg>
    </span>
    <span class="item" data-type="wechat">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M9.062 9.203c0-0.859-0.562-1.422-1.422-1.422-0.844 0-1.703 0.562-1.703 1.422 0 0.844 0.859 1.406 1.703 1.406 0.859 0 1.422-0.562 1.422-1.406zM20.672 17.125c0-0.562-0.562-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.859 0 1.422-0.562 1.422-1.141zM16.984 9.203c0-0.859-0.562-1.422-1.406-1.422-0.859 0-1.703 0.562-1.703 1.422 0 0.844 0.844 1.406 1.703 1.406 0.844 0 1.406-0.562 1.406-1.406zM26.906 17.125c0-0.562-0.578-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.844 0 1.422-0.562 1.422-1.141zM22.75 10.922c-0.359-0.047-0.719-0.063-1.094-0.063-5.375 0-9.625 4.016-9.625 8.953 0 0.828 0.125 1.625 0.359 2.375-0.359 0.031-0.703 0.047-1.063 0.047-1.422 0-2.547-0.281-3.969-0.562l-3.953 1.984 1.125-3.406c-2.828-1.984-4.531-4.547-4.531-7.656 0-5.391 5.094-9.625 11.328-9.625 5.563 0 10.453 3.391 11.422 7.953zM32 19.687c0 2.547-1.688 4.813-3.969 6.516l0.859 2.828-3.109-1.703c-1.141 0.281-2.281 0.578-3.406 0.578-5.391 0-9.625-3.688-9.625-8.219s4.234-8.219 9.625-8.219c5.094 0 9.625 3.688 9.625 8.219z"></path>
        </svg>
    </span>
    <span class="item" data-type="weibo">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M13.444 27.064c-5.3 0.525-9.875-1.875-10.219-5.35-0.344-3.481 3.675-6.719 8.969-7.244 5.3-0.525 9.875 1.875 10.212 5.35 0.35 3.481-3.669 6.725-8.963 7.244zM24.038 15.521c-0.45-0.137-0.762-0.225-0.525-0.819 0.512-1.287 0.563-2.394 0.006-3.188-1.038-1.481-3.881-1.406-7.137-0.037 0 0-1.025 0.444-0.762-0.363 0.5-1.613 0.425-2.956-0.356-3.737-1.769-1.769-6.469 0.069-10.5 4.1-3.013 3.006-4.763 6.212-4.763 8.981 0 5.287 6.787 8.506 13.425 8.506 8.7 0 14.494-5.056 14.494-9.069 0-2.431-2.044-3.806-3.881-4.375z"></path>
            <path d="M29.819 5.833c-2.1-2.331-5.2-3.219-8.063-2.612v0c-0.663 0.144-1.081 0.794-0.938 1.45 0.144 0.662 0.788 1.081 1.45 0.938 2.038-0.431 4.238 0.2 5.731 1.856s1.9 3.913 1.256 5.888v0c-0.206 0.644 0.144 1.331 0.788 1.544 0.644 0.206 1.331-0.144 1.544-0.787v-0.006c0.9-2.762 0.331-5.938-1.769-8.269z"></path>
            <path d="M26.588 8.752c-1.025-1.138-2.538-1.569-3.925-1.269-0.569 0.119-0.931 0.688-0.813 1.256 0.125 0.569 0.688 0.931 1.25 0.806v0c0.681-0.144 1.419 0.069 1.919 0.619 0.5 0.556 0.637 1.313 0.419 1.975v0c-0.175 0.55 0.125 1.15 0.681 1.331 0.556 0.175 1.15-0.125 1.331-0.681 0.438-1.356 0.163-2.906-0.863-4.037z"></path>
            <path d="M13.738 20.771c-0.188 0.319-0.594 0.469-0.912 0.337-0.319-0.125-0.412-0.488-0.231-0.794 0.188-0.306 0.581-0.456 0.894-0.337 0.313 0.113 0.425 0.469 0.25 0.794zM12.044 22.933c-0.512 0.819-1.613 1.175-2.438 0.8-0.813-0.369-1.056-1.319-0.544-2.119 0.506-0.794 1.569-1.15 2.388-0.806 0.831 0.356 1.1 1.3 0.594 2.125zM13.969 17.146c-2.519-0.656-5.369 0.6-6.463 2.819-1.119 2.262-0.037 4.781 2.506 5.606 2.638 0.85 5.75-0.456 6.831-2.894 1.069-2.394-0.262-4.85-2.875-5.531z"></path>
        </svg>
    </span>
    <span class="item" data-type="twitter">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path d="M32.003 6.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
        </svg>
    </span>
    <span class="item__qr"></span>
</div>                            <a href="https://blog.mufengs.com/articles/2019/12/31/1577812726750.html" rel="next"
                               class="fn-right vditor-tooltipped vditor-tooltipped__n"
                               aria-label="2019 å¹´åº¦ mufengs çš„ä¸ªäººæ€»ç»“">
                                æ–°ä¸€ç¯‡
                            </a>
                    </div>
                </footer>
                    <div id="b3logsolocomments"></div>
                    <div id="vcomment" data-name="mufengcoding" data-postId="1575638398605"></div>
                <br>
                <div id="externalRelevantArticles" class="list"></div>
                <div id="relevantArticles" class="list"></div>
                <div id="randomArticles" class="list"></div>
            </article>
        </main>
<aside>
<ul class="article__toc">
        <li class="toc__h2">
            <a href="#toc_h2_0">1. æ¦‚è¿°</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_1">2. å‡†å¤‡ç¯å¢ƒ</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_2">3. å®‰è£…podman</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_3">3.1 æ›´æ–°æ“ä½œç³»ç»Ÿ</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_4">3.2å®‰è£…podman</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_5">4. æ¢ç´¢podmanå‘½ä»¤</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_6">4.1 podman -h</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_7">4.2 å¸¸ç”¨å‘½ä»¤</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_8">4.2.1 æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_9">4.2.2 æŸ¥çœ‹podmanä¿¡æ¯</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_10">4.2.3 è¿è¡Œä¸€ä¸ªç®€å•çš„å®¹å™¨</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_11">4.2.4 æŸ¥çœ‹é•œåƒå’Œå®¹å™¨</a>
        </li>
        <li class="toc__h4">
            <a href="#toc_h4_12">4.2.5 å¤‡ä»½è¿ç§»</a>
        </li>
</ul></aside>
    </div>
</div>
<footer class="footer fn-clear">
    &copy; 2020
    <a href="https://blog.mufengs.com">mufengs çš„ä¸ªäººåšå®¢</a>
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?1d1cd729cc56392a866f3afd3b3eed58";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
    <br/>
    Powered by <a href="https://solo.b3log.org" target="_blank">Solo</a>
    <span class="ft-warn">&heartsuit;</span>
    Theme 9IPHP
    <sup>[<a href="https://github.com/9IPHP/9IPHP" target="_blank">ref</a>]</sup>
    by <a href="http://vanessa.b3log.org" target="_blank">Vanessa</a>
</footer>
<div class="icon-up" onclick="Util.goTop()"></div>
<script>
  var Label = {
    servePath: "https://blog.mufengs.com",
    staticServePath: "https://blog.mufengs.com",
    luteAvailable: false,
    hljsStyle: 'github',
    langLabel: "zh_CN",
    version: "3.9.0",
    staticSite: true,
    showCodeBlockLn: true,
  }
</script>
<script src="https://blog.mufengs.com/skins/9IPHP/js/common.min.js?1582365382210"></script>

<script type="text/javascript">
    Util.addScript('https://blog.mufengs.com/js/page.min.js?1582365382210', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "è¯„è®ºå†…å®¹åªèƒ½ä¸º 2 åˆ° 500 ä¸ªå­—ç¬¦ï¼",
        "oId": "1575638398605",
        "blogHost": "https://blog.mufengs.com",
        "randomArticles1Label": "éšæœºé˜…è¯»ï¼š",
        "externalRelevantArticles1Label": "ç«™å¤–ç›¸å…³é˜…è¯»ï¼š"
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "5";
        page.loadExternalRelevantArticles("Linux,Podman,Docker", "<header class='title'><h2>ç«™å¤–ç›¸å…³é˜…è¯»</h2></header>");
    Skin.initToc()
    page.share()
    });
</script>
</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 95ms, 2020/02/22 05:02:44 -->